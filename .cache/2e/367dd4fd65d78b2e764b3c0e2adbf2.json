{"id":"epB2","dependencies":[{"name":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\package.json","includedInParent":true,"mtime":1619940708897},{"name":"express","loc":{"line":1,"column":20},"parent":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\public\\main.js","resolved":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\node_modules\\express\\index.js"},{"name":"node-fetch","loc":{"line":3,"column":18},"parent":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\public\\main.js","resolved":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\node_modules\\node-fetch\\browser.js"},{"name":"./config.json","loc":{"line":5,"column":49},"parent":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\public\\main.js","resolved":"C:\\Users\\aryan_0m0ox0n\\Desktop\\DSS Website\\public\\config.json"}],"generated":{"js":"\"use strict\";var e=n(require(\"express\")),t=n(require(\"node-fetch\"));function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,r,o,c,a){try{var i=e[c](a),s=i.value}catch(u){return void n(u)}i.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var a=e.apply(t,n);function i(e){r(a,o,c,i,s,\"next\",e)}function s(e){r(a,o,c,i,s,\"throw\",e)}i(void 0)})}}var c=require(\"./config.json\"),a=c.clientID,i=c.clientSecret,s=c.port,u=(0,e.default)();u.use(e.default.static(\"public\")),u.get(\"/\",function(){var e=o(regeneratorRuntime.mark(function e(n,r){var o,c,u,l,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.query,!(c=o.code)){e.next=23;break}return e.prev=3,e.next=6,(0,t.default)(\"https://discord.com/api/oauth2/token\",{method:\"POST\",body:new URLSearchParams({client_id:a,client_secret:i,code:c,grant_type:\"authorization_code\",redirect_uri:\"http://localhost:\".concat(s),scope:\"identify\"}),headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}});case 6:return u=e.sent,e.next=9,u.json();case 9:return l=e.sent,e.next=12,(0,t.default)(\"https://discord.com/api/users/@me\",{headers:{authorization:\"\".concat(l.token_type,\" \").concat(l.access_token)}});case 12:return d=e.sent,e.t0=console,e.next=16,d.json();case 16:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=23;break;case 20:e.prev=20,e.t2=e.catch(3),console.error(e.t2);case 23:return e.abrupt(\"return\",r.sendFile(\"index.html\",{root:\".\"}));case 24:case\"end\":return e.stop()}},e,null,[[3,20]])}));return function(t,n){return e.apply(this,arguments)}}()),u.listen(s,function(){return console.log(\"App listening at http://localhost:\".concat(s))});"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":17}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":19}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":21}},{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":29}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":41}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":43}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":45}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":53}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":68}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":77}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":79}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":82}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":89}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":92}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":94}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":105}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":107}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":108}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":116}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":119}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":128}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":130}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":132}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":134}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":136}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":138}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":140}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":142}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":145}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":149}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":153}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":155}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":157}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":160}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":163}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":165}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":167}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":173}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":179}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":182}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":194}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":196}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":199}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":201}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":206}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":208}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":211}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":219}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":227}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":230}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":235}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":237}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":240}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":249}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":251}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":254}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":261}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":272}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":276}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":278}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":283}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":285}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":295}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":302}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":306}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":314}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":323}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":325}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":328}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":332}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":334}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":336}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":342}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":344}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":347}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":356}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":358}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":361}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":363}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":365}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":367}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":369}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":371}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":373}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":380}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":383}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":392}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":394}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":397}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":399}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":401}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":403}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":405}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":407}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":409}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":417}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":420}},{"source":"main.js","original":{"line":100,"column":0},"generated":{"line":1,"column":427}},{"source":"main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":433}},{"source":"main.js","name":"require","original":{"line":5,"column":41},"generated":{"line":1,"column":437}},{"source":"main.js","name":"require","original":{"line":5,"column":41},"generated":{"line":1,"column":439}},{"source":"main.js","original":{"line":5,"column":49},"generated":{"line":1,"column":447}},{"source":"main.js","name":"clientID","original":{"line":5,"column":8},"generated":{"line":1,"column":464}},{"source":"main.js","name":"clientID","original":{"line":5,"column":8},"generated":{"line":1,"column":466}},{"source":"main.js","name":"clientID","original":{"line":5,"column":8},"generated":{"line":1,"column":468}},{"source":"main.js","name":"clientSecret","original":{"line":5,"column":18},"generated":{"line":1,"column":477}},{"source":"main.js","name":"clientSecret","original":{"line":5,"column":18},"generated":{"line":1,"column":479}},{"source":"main.js","name":"clientSecret","original":{"line":5,"column":18},"generated":{"line":1,"column":481}},{"source":"main.js","name":"port","original":{"line":5,"column":32},"generated":{"line":1,"column":494}},{"source":"main.js","name":"port","original":{"line":5,"column":32},"generated":{"line":1,"column":496}},{"source":"main.js","name":"port","original":{"line":5,"column":32},"generated":{"line":1,"column":498}},{"source":"main.js","name":"app","original":{"line":6,"column":6},"generated":{"line":1,"column":503}},{"source":"main.js","original":{"line":6,"column":12},"generated":{"line":1,"column":506}},{"source":"main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":508}},{"source":"main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":510}},{"source":"main.js","name":"app","original":{"line":8,"column":0},"generated":{"line":1,"column":521}},{"source":"main.js","name":"use","original":{"line":8,"column":4},"generated":{"line":1,"column":523}},{"source":"main.js","name":"express","original":{"line":8,"column":8},"generated":{"line":1,"column":527}},{"source":"main.js","name":"static","original":{"line":8,"column":16},"generated":{"line":1,"column":529}},{"source":"main.js","name":"static","original":{"line":8,"column":16},"generated":{"line":1,"column":537}},{"source":"main.js","original":{"line":8,"column":23},"generated":{"line":1,"column":544}},{"source":"main.js","name":"app","original":{"line":10,"column":0},"generated":{"line":1,"column":555}},{"source":"main.js","name":"get","original":{"line":10,"column":4},"generated":{"line":1,"column":557}},{"source":"main.js","original":{"line":10,"column":8},"generated":{"line":1,"column":561}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":565}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":576}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":580}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":582}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":584}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":603}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":608}},{"source":"main.js","name":"response","original":{"line":10,"column":31},"generated":{"line":1,"column":617}},{"source":"main.js","name":"response","original":{"line":10,"column":31},"generated":{"line":1,"column":619}},{"source":"main.js","name":"response","original":{"line":10,"column":31},"generated":{"line":1,"column":621}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":624}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":628}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":630}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":632}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":634}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":636}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":638}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":645}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":664}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":669}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":678}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":681}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":688}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":695}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":697}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":702}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":704}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":710}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":715}},{"source":"main.js","name":"code","original":{"line":13,"column":5},"generated":{"line":1,"column":717}},{"source":"main.js","name":"query","original":{"line":10,"column":22},"generated":{"line":1,"column":720}},{"source":"main.js","name":"query","original":{"line":10,"column":22},"generated":{"line":1,"column":722}},{"source":"main.js","name":"query","original":{"line":10,"column":22},"generated":{"line":1,"column":724}},{"source":"main.js","name":"code","original":{"line":11,"column":9},"generated":{"line":1,"column":732}},{"source":"main.js","name":"query","original":{"line":11,"column":18},"generated":{"line":1,"column":734}},{"source":"main.js","name":"code","original":{"line":11,"column":9},"generated":{"line":1,"column":736}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":742}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":743}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":745}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":750}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":753}},{"source":"main.js","original":{"line":15,"column":29},"generated":{"line":1,"column":759}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":766}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":768}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":773}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":775}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":777}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":782}},{"source":"main.js","original":{"line":15,"column":29},"generated":{"line":1,"column":785}},{"source":"main.js","original":{"line":15,"column":35},"generated":{"line":1,"column":787}},{"source":"main.js","original":{"line":15,"column":35},"generated":{"line":1,"column":789}},{"source":"main.js","original":{"line":15,"column":35},"generated":{"line":1,"column":798}},{"source":"main.js","original":{"line":15,"column":75},"generated":{"line":1,"column":837}},{"source":"main.js","name":"method","original":{"line":16,"column":4},"generated":{"line":1,"column":838}},{"source":"main.js","original":{"line":16,"column":14},"generated":{"line":1,"column":845}},{"source":"main.js","name":"body","original":{"line":17,"column":4},"generated":{"line":1,"column":852}},{"source":"main.js","original":{"line":17,"column":14},"generated":{"line":1,"column":857}},{"source":"main.js","name":"URLSearchParams","original":{"line":17,"column":18},"generated":{"line":1,"column":861}},{"source":"main.js","original":{"line":17,"column":34},"generated":{"line":1,"column":877}},{"source":"main.js","name":"client_id","original":{"line":18,"column":5},"generated":{"line":1,"column":878}},{"source":"main.js","name":"clientID","original":{"line":18,"column":21},"generated":{"line":1,"column":888}},{"source":"main.js","name":"client_secret","original":{"line":19,"column":5},"generated":{"line":1,"column":890}},{"source":"main.js","name":"clientSecret","original":{"line":19,"column":21},"generated":{"line":1,"column":904}},{"source":"main.js","name":"code","original":{"line":20,"column":5},"generated":{"line":1,"column":906}},{"source":"main.js","name":"code","original":{"line":20,"column":5},"generated":{"line":1,"column":911}},{"source":"main.js","name":"grant_type","original":{"line":21,"column":5},"generated":{"line":1,"column":913}},{"source":"main.js","original":{"line":21,"column":21},"generated":{"line":1,"column":924}},{"source":"main.js","name":"redirect_uri","original":{"line":22,"column":5},"generated":{"line":1,"column":945}},{"source":"main.js","name":"port","original":{"line":22,"column":41},"generated":{"line":1,"column":958}},{"source":"main.js","name":"port","original":{"line":22,"column":41},"generated":{"line":1,"column":978}},{"source":"main.js","name":"port","original":{"line":22,"column":41},"generated":{"line":1,"column":985}},{"source":"main.js","name":"scope","original":{"line":23,"column":5},"generated":{"line":1,"column":988}},{"source":"main.js","original":{"line":23,"column":21},"generated":{"line":1,"column":994}},{"source":"main.js","name":"headers","original":{"line":25,"column":4},"generated":{"line":1,"column":1007}},{"source":"main.js","original":{"line":25,"column":14},"generated":{"line":1,"column":1015}},{"source":"main.js","original":{"line":26,"column":22},"generated":{"line":1,"column":1016}},{"source":"main.js","original":{"line":26,"column":22},"generated":{"line":1,"column":1031}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1070}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1075}},{"source":"main.js","name":"oauthResult","original":{"line":30,"column":27},"generated":{"line":1,"column":1077}},{"source":"main.js","name":"oauthResult","original":{"line":15,"column":9},"generated":{"line":1,"column":1084}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1086}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1088}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1093}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1095}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1100}},{"source":"main.js","name":"oauthResult","original":{"line":30,"column":27},"generated":{"line":1,"column":1102}},{"source":"main.js","name":"json","original":{"line":30,"column":39},"generated":{"line":1,"column":1104}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1111}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1116}},{"source":"main.js","original":{"line":32,"column":28},"generated":{"line":1,"column":1118}},{"source":"main.js","name":"oauthData","original":{"line":30,"column":9},"generated":{"line":1,"column":1125}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1127}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1129}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1134}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1136}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1141}},{"source":"main.js","original":{"line":32,"column":28},"generated":{"line":1,"column":1145}},{"source":"main.js","original":{"line":32,"column":34},"generated":{"line":1,"column":1147}},{"source":"main.js","original":{"line":32,"column":34},"generated":{"line":1,"column":1149}},{"source":"main.js","original":{"line":32,"column":34},"generated":{"line":1,"column":1158}},{"source":"main.js","original":{"line":32,"column":71},"generated":{"line":1,"column":1194}},{"source":"main.js","name":"headers","original":{"line":33,"column":4},"generated":{"line":1,"column":1195}},{"source":"main.js","original":{"line":33,"column":14},"generated":{"line":1,"column":1203}},{"source":"main.js","name":"authorization","original":{"line":34,"column":5},"generated":{"line":1,"column":1204}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":24},"generated":{"line":1,"column":1218}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":24},"generated":{"line":1,"column":1221}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":24},"generated":{"line":1,"column":1228}},{"source":"main.js","name":"token_type","original":{"line":34,"column":34},"generated":{"line":1,"column":1230}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":48},"generated":{"line":1,"column":1241}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":48},"generated":{"line":1,"column":1246}},{"source":"main.js","name":"oauthData","original":{"line":34,"column":48},"generated":{"line":1,"column":1253}},{"source":"main.js","name":"access_token","original":{"line":34,"column":58},"generated":{"line":1,"column":1255}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1272}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1277}},{"source":"main.js","name":"userResult","original":{"line":38,"column":21},"generated":{"line":1,"column":1280}},{"source":"main.js","name":"userResult","original":{"line":32,"column":9},"generated":{"line":1,"column":1287}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1289}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1291}},{"source":"main.js","name":"console","original":{"line":38,"column":3},"generated":{"line":1,"column":1296}},{"source":"main.js","name":"console","original":{"line":38,"column":3},"generated":{"line":1,"column":1298}},{"source":"main.js","name":"console","original":{"line":38,"column":3},"generated":{"line":1,"column":1301}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1309}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1311}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1316}},{"source":"main.js","name":"userResult","original":{"line":38,"column":21},"generated":{"line":1,"column":1319}},{"source":"main.js","name":"json","original":{"line":38,"column":32},"generated":{"line":1,"column":1321}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1328}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1333}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1336}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1338}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1341}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1343}},{"source":"main.js","name":"log","original":{"line":38,"column":11},"generated":{"line":1,"column":1348}},{"source":"main.js","name":"log","original":{"line":38,"column":11},"generated":{"line":1,"column":1350}},{"source":"main.js","name":"log","original":{"line":38,"column":11},"generated":{"line":1,"column":1353}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1357}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1362}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1364}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1367}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1369}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1373}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1375}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1380}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1383}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1389}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1394}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1397}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1399}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1404}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1407}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1409}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1412}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1414}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1420}},{"source":"main.js","name":"console","original":{"line":42,"column":3},"generated":{"line":1,"column":1423}},{"source":"main.js","name":"error","original":{"line":42,"column":11},"generated":{"line":1,"column":1431}},{"source":"main.js","original":{"line":42,"column":3},"generated":{"line":1,"column":1437}},{"source":"main.js","original":{"line":42,"column":3},"generated":{"line":1,"column":1439}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1443}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1448}},{"source":"main.js","name":"response","original":{"line":46,"column":8},"generated":{"line":1,"column":1451}},{"source":"main.js","name":"response","original":{"line":46,"column":8},"generated":{"line":1,"column":1458}},{"source":"main.js","name":"response","original":{"line":46,"column":8},"generated":{"line":1,"column":1460}},{"source":"main.js","name":"response","original":{"line":46,"column":8},"generated":{"line":1,"column":1467}},{"source":"main.js","name":"response","original":{"line":46,"column":8},"generated":{"line":1,"column":1476}},{"source":"main.js","name":"sendFile","original":{"line":46,"column":17},"generated":{"line":1,"column":1478}},{"source":"main.js","original":{"line":46,"column":26},"generated":{"line":1,"column":1487}},{"source":"main.js","original":{"line":46,"column":40},"generated":{"line":1,"column":1500}},{"source":"main.js","name":"root","original":{"line":46,"column":42},"generated":{"line":1,"column":1501}},{"source":"main.js","original":{"line":46,"column":48},"generated":{"line":1,"column":1506}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1513}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1518}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1521}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1525}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1531}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1538}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1540}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1549}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1551}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1556}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1557}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1558}},{"source":"main.js","original":{"line":10,"column":13},"generated":{"line":1,"column":1560}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1569}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1576}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1585}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1587}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1590}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1597}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1599}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1605}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1610}},{"source":"main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":1622}},{"source":"main.js","name":"app","original":{"line":49,"column":0},"generated":{"line":1,"column":1626}},{"source":"main.js","name":"listen","original":{"line":49,"column":4},"generated":{"line":1,"column":1628}},{"source":"main.js","name":"port","original":{"line":49,"column":11},"generated":{"line":1,"column":1635}},{"source":"main.js","original":{"line":49,"column":17},"generated":{"line":1,"column":1637}},{"source":"main.js","name":"console","original":{"line":49,"column":23},"generated":{"line":1,"column":1648}},{"source":"main.js","name":"console","original":{"line":49,"column":23},"generated":{"line":1,"column":1655}},{"source":"main.js","name":"log","original":{"line":49,"column":31},"generated":{"line":1,"column":1663}},{"source":"main.js","name":"port","original":{"line":49,"column":72},"generated":{"line":1,"column":1667}},{"source":"main.js","name":"port","original":{"line":49,"column":72},"generated":{"line":1,"column":1704}},{"source":"main.js","name":"port","original":{"line":49,"column":72},"generated":{"line":1,"column":1711}}],"sources":{"main.js":"import express from 'express';\r\n\r\nimport fetch from 'node-fetch';\r\n\r\nconst { clientID, clientSecret, port } = require('./config.json');\r\nconst app = express();\r\n\r\napp.use(express.static('public'));\r\n\r\napp.get('/', async ({ query }, response) => {\r\n\tconst { code } = query;\r\n\r\n\tif (code) {\r\n\t\ttry {\r\n\t\t\tconst oauthResult = await fetch('https://discord.com/api/oauth2/token', {\r\n\t\t\t\tmethod  : 'POST',\r\n\t\t\t\tbody    : new URLSearchParams({\r\n\t\t\t\t\tclient_id     : clientID,\r\n\t\t\t\t\tclient_secret : clientSecret,\r\n\t\t\t\t\tcode,\r\n\t\t\t\t\tgrant_type    : 'authorization_code',\r\n\t\t\t\t\tredirect_uri  : `http://localhost:${port}`,\r\n\t\t\t\t\tscope         : 'identify'\r\n\t\t\t\t}),\r\n\t\t\t\theaders : {\r\n\t\t\t\t\t'Content-Type' : 'application/x-www-form-urlencoded'\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconst oauthData = await oauthResult.json();\r\n\r\n\t\t\tconst userResult = await fetch('https://discord.com/api/users/@me', {\r\n\t\t\t\theaders : {\r\n\t\t\t\t\tauthorization : `${oauthData.token_type} ${oauthData.access_token}`\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(await userResult.json());\r\n\t\t} catch (error) {\r\n\t\t\t// NOTE: An unauthorized token will not throw an error;\r\n\t\t\t// it will return a 401 Unauthorized response in the try block above\r\n\t\t\tconsole.error(error);\r\n\t\t}\r\n\t}\r\n\r\n\treturn response.sendFile('index.html', { root: '.' });\r\n});\r\n\r\napp.listen(port, () => console.log(`App listening at http://localhost:${port}`));\r\n\r\n// import express from 'express';\r\n// const app = express();\r\n// import fetch from 'node-fetch';\r\n\r\n// app.use(express.static('public'));\r\n\r\n// console.log('it worked');\r\n\r\n// app.get('/', async (req, res) => {\r\n// \tlet access_token;\r\n// \tlet token_type;\r\n// \tif (req.query.code) {\r\n// \t\tconst accessCode = req.query.code;\r\n// \t\tconst data = {\r\n// \t\t\tclient_id     : '800353549418102804',\r\n// \t\t\tclient_secret : 'MbuP9wr0083k_k2xGYge_xfOOQ17DODR',\r\n// \t\t\tgrant_type    : 'authorization_code',\r\n// \t\t\tredirect_uri  : 'http://localhost:3000',\r\n// \t\t\tcode          : accessCode,\r\n// \t\t\tscope         : 'identify'\r\n// \t\t};\r\n\r\n// \t\tconst res = await fetch('https://discordapp.com/api/oauth2/token', {\r\n// \t\t\tmethod  : 'POST',\r\n// \t\t\tbody    : new URLSearchParams(data),\r\n// \t\t\theaders : {\r\n// \t\t\t\t'Content-Type' : 'application/x-www-form-urlencoded'\r\n// \t\t\t}\r\n// \t\t});\r\n\r\n// \t\tconst info = await res.json();\r\n\r\n// \t\ttoken_type = info.token_type;\r\n// \t\taccess_token = info.access_token;\r\n// \t}\r\n\r\n// \tif (token_type && access_token && req.query.state) {\r\n// \t\tres\r\n// \t\t\t.status(200)\r\n// \t\t\t.redirect(\r\n// \t\t\t\t`http://localhost:3000/?code=${req.query.code}&state=${req.query\r\n// \t\t\t\t\t.state}&access_token=${access_token}&token_type=${token_type}`\r\n// \t\t\t);\r\n// \t} else {\r\n// \t\tres.sendFile('index.html', { root: '.' });\r\n// \t\tconsole.log('it worked 1');\r\n// \t}\r\n// });\r\n\r\n// app.listen(3000);\r\n"},"lineCount":null}},"error":null,"hash":"9ab176b272af8b7be7df7fedecdde4b0","cacheData":{"env":{}}}